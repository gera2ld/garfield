<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Dashboard - Web Commander</title>
  <link rel="shortcut icon" href="./_static/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./_static/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css">
  <link rel="stylesheet" href="./_static/style.css">
  <script src="//cdn.bootcss.com/socket.io/1.4.8/socket.io.min.js"></script>
  <script src="//cdn.bootcss.com/vue/2.0.0-rc.5/vue.min.js"></script>
</head>
<body>
  <h1>Web Commander</h1>
  <div id="dashboard" class="column">
    <div class="row row-head">
      <span class="col-id">ID</span>
      <span class="flex-1">Description</span>
      <span class="col-state">State</span>
      <span class="col-manage">Managing</span>
    </div>
    <div v-for="item in jobs" :key="item.id" class="row" :class="'state-'+item.state">
      <div class="col-id state-text" v-text="item.id"></div>
      <div class="flex-1">
        <div class="label-log" v-if="item.hasLogs" @click="toggleLog(item)">LOG</div>
        <div class="state-text">
          <span v-text="duration(item)" :title="timestamps(item)"></span>
          <span v-text="item.description"></span>
        </div>
        <pre class="log-view" v-if="item.log&&item.showLog" v-html="item.log"></pre>
      </div>
      <div class="col-state state-text" v-text="item.state"></div>
      <div class="col-manage">
        <a href="#" v-if="canRedo(item)" @click.prevent="redo(item)">Redo</a>
      </div>
    </div>
  </div>
  <script src="./_static/app.js"></script>
</body>
</html>
