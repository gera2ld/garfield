<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Dashboard - Web Commander</title>
<link rel="shortcut icon" href="./_static/favicon.ico" type="image/x-icon">
<link rel="icon" href="./_static/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="//cdn.bootcss.com/spectre.css/0.1.27/spectre.min.css">
<link rel="stylesheet" href="./_static/style.css">
<script src="//cdn.bootcss.com/socket.io/1.4.8/socket.io.min.js"></script>
<script src="//cdn.bootcss.com/vue/2.0.3/vue.js"></script>
<script src="./_static/define.js"></script>
<script src="./_static/define-async.js"></script>
</head>
<body>
  <a class="hide-xs" href="https://github.com/gera2ld/web-commander"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>
  <div class="text-center">
    <h1 class="inline-block">W<span class="hide-sm">eb </span>C<span class="hide-sm">om</span>m<span class="hide-sm">an</span>d<span class="hide-sm">er</span></h1>
    <div class="inline-block">&copy; 2016 <a href="https://gerald.top">Gerald</a></div>
  </div>
  <div id="dashboard"></div>
<script id="tpl-app" type="x-template">
  <div class="container grid-960">
    <template v-for="(list,index) in lists">
      <div class="divider" v-if="index"></div>
      <h6 class="text-uppercase" v-text="list.key"></h6>
      <div class="columns col-multiline" :class="'jobs-'+list.key">
        <div class="column col-4 col-sm-6 col-xs-12" v-for="item in list.items" :key="item.id">
          <div class="card">
            <div class="card-header state-text">
              <h4 class="card-title" v-text="item.description"></h4>
              <div class="float-right state-text" :class="stateClass(item)" v-text="item.state"></div>
              <div class="card-meta">
                [<span v-text="item.id"></span>]
                <span class="tooltip text-nowrap" v-text="duration(item)" :data-tooltip="timestamps(item)"></span>
              </div>
            </div>
            <div class="card-footer clearfix">
              <button class="btn btn-default btn-sm text-uppercase float-right" v-if="item.hasLogs" @click="showLog(item)">Log</button>
              <button class="btn btn-primary btn-sm" v-if="canRedo(item)" @click="redo(item)">Redo</button>
            </div>
          </div>
        </div>
      </div>
    </template>
    <div class="empty" v-if="!lists.length">
      <p class="empty-title">No task yet~</p>
    </div>
    <modal :class="{active:modal}" :item="modal" @close="closeLog"></modal>
  </div>
</script>
<script id="tpl-modal" type="x-template">
  <div class="modal">
    <div class="modal-overlay" @click="close"></div>
    <div class="modal-container log-view">
      <div class="modal-header">
        <div class="float-right state-text" :class="stateClass" v-text="attr('state')"></div>
        <div class="modal-title" v-text="attr('description')"></div>
      </div>
      <div class="modal-body" v-html="attr('log')" ref="body"></div>
    </div>
  </div>
</script>
<script src="./_static/app.js"></script>
</body>
</html>
